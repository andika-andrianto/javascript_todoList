<!DOCTYPE html>
<html lang="en">
    <head>
        <body>
            <ul id="todos"></ul>

            <form>
                <input name="todo" type="text">
                <input type="submit" value="Add Todo">
            </form>


            <script>

                //get DOM elements
                const form = document.querySelector('form')
                const input = document.querySelector("[name='todo']")
                const todoList = document.getElementById('todos')

                //Side Effects / Lifecycle
                const existingTodos = JSON.parse(localStorage.getItem('todos'));


                const todoData = existingTodos || [];
                todoData.forEach(todo => {
                    addTodo(todo);
                    
                });
                
                function addTodo(todoText){
                    todoData.push(todoText);
                    const li = document.createElement('li')
                    li.innerHTML = todoText;
                    todoList.appendChild(li);
                    localStorage.setItem('todos',JSON.stringify(todoData));

                }
                //Events listener
                form.onsubmit = (event) => {
                    event.preventDefault();
                    addTodo(input.value);
                }

            </script>


        </body>
    </head>
</html>